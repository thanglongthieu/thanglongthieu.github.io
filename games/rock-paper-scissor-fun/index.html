<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rock Paper Scissors</title>
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #050510;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      overflow: hidden;
      touch-action: none; /* no scroll on iPhone */
      -webkit-user-select: none;
      user-select: none;
    }

    .app {
      box-sizing: border-box;
      width: 100%;
      height: 100%;
      padding: 12px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: space-between;
      gap: 10px;
    }

    .header {
      text-align: center;
    }

    .title {
      font-size: 24px;
      margin-bottom: 4px;
    }

    .subtitle {
      font-size: 13px;
      opacity: 0.8;
    }

    .scoreboard {
      margin-top: 6px;
      display: flex;
      justify-content: center;
      gap: 16px;
      font-size: 14px;
    }

    .scoreboard span label {
      opacity: 0.7;
      margin-right: 4px;
    }

    .arena {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 14px;
      text-align: center;
    }

    .choices-row {
      display: flex;
      justify-content: center;
      gap: 30px;
      align-items: center;
      font-size: 20px;
    }

    .big-emoji {
      font-size: 40px;
      margin-bottom: 4px;
    }

    .label {
      font-size: 13px;
      opacity: 0.8;
    }

    .result-text {
      font-size: 20px;
      min-height: 28px;
    }

    .result-text.win {
      color: #30d158;
    }

    .result-text.lose {
      color: #ff453a;
    }

    .result-text.draw {
      color: #ffd60a;
    }

    .history {
      font-size: 12px;
      opacity: 0.8;
      max-height: 80px;
      overflow-y: auto;
      padding: 4px 8px;
      border-radius: 8px;
      background: rgba(255,255,255,0.05);
      width: 100%;
      max-width: 360px;
    }

    .controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
    }

    .buttons-row {
      display: flex;
      justify-content: center;
      gap: 10px;
      width: 100%;
      max-width: 360px;
    }

    .choice-btn {
      flex: 1;
      padding: 10px 6px;
      font-size: 20px;
      border-radius: 14px;
      border: none;
      background: #1c1c2e;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background-color 0.1s ease;
    }

    .choice-btn span.small {
      font-size: 12px;
      opacity: 0.8;
    }

    .choice-btn:active {
      transform: translateY(1px) scale(0.97);
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      background: #2b2b40;
    }

    .reset-btn {
      padding: 6px 14px;
      font-size: 13px;
      border-radius: 999px;
      border: none;
      background: #0a84ff;
      color: #fff;
      box-shadow: 0 3px 9px rgba(10,132,255,0.6);
      transition: transform 0.08s ease, box-shadow 0.08s ease;
    }

    .reset-btn:active {
      transform: translateY(1px) scale(0.97);
      box-shadow: 0 2px 5px rgba(10,132,255,0.5);
    }

    .hint-bottom {
      font-size: 12px;
      text-align: center;
      opacity: 0.8;
    }
  </style>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="title">Rock ¬∑ Paper ¬∑ Scissors</div>
    <div class="subtitle">Tap a hand. Beat the computer if you can!</div>
    <div class="scoreboard">
      <span><label>You</label><strong id="youScore">0</strong></span>
      <span><label>CPU</label><strong id="cpuScore">0</strong></span>
      <span><label>Draw</label><strong id="drawScore">0</strong></span>
    </div>
  </div>

  <div class="arena">
    <div class="choices-row">
      <div>
        <div class="big-emoji" id="youEmoji">‚ùî</div>
        <div class="label">You</div>
      </div>
      <div>
        <div class="big-emoji" id="cpuEmoji">‚ùî</div>
        <div class="label">CPU</div>
      </div>
    </div>
    <div id="resultText" class="result-text">Make your move.</div>

    <div class="history" id="historyBox">
      Round history will appear here.
    </div>
  </div>

  <div class="controls">
    <div class="buttons-row">
      <button class="choice-btn" data-move="rock">
        <span>‚úä</span>
        <span class="small">Rock</span>
      </button>
      <button class="choice-btn" data-move="paper">
        <span>‚úã</span>
        <span class="small">Paper</span>
      </button>
      <button class="choice-btn" data-move="scissors">
        <span>‚úåÔ∏è</span>
        <span class="small">Scissors</span>
      </button>
    </div>
    <button id="resetBtn" class="reset-btn">Reset score</button>
    <div class="hint-bottom">
      iPhone OK: just tap a hand.  
      Rules: Rock beats Scissors ¬∑ Scissors beats Paper ¬∑ Paper beats Rock.
    </div>
  </div>
</div>

<script>
  const youScoreSpan = document.getElementById('youScore');
  const cpuScoreSpan = document.getElementById('cpuScore');
  const drawScoreSpan = document.getElementById('drawScore');
  const youEmoji = document.getElementById('youEmoji');
  const cpuEmoji = document.getElementById('cpuEmoji');
  const resultText = document.getElementById('resultText');
  const historyBox = document.getElementById('historyBox');
  const resetBtn = document.getElementById('resetBtn');
  const buttons = Array.from(document.querySelectorAll('.choice-btn'));

  let youScore = 0;
  let cpuScore = 0;
  let drawScore = 0;
  let round = 0;

  const EMOJI = {
    rock: '‚úä',
    paper: '‚úã',
    scissors: '‚úåÔ∏è'
  };

  const MOVES = ['rock', 'paper', 'scissors'];

  function cpuMove() {
    const i = Math.floor(Math.random() * 3);
    return MOVES[i];
  }

  function judge(you, cpu) {
    if (you === cpu) return 'draw';
    if (
      (you === 'rock' && cpu === 'scissors') ||
      (you === 'scissors' && cpu === 'paper') ||
      (you === 'paper' && cpu === 'rock')
    ) return 'win';
    return 'lose';
  }

  function updateScores() {
    youScoreSpan.textContent = youScore;
    cpuScoreSpan.textContent = cpuScore;
    drawScoreSpan.textContent = drawScore;
  }

  function addHistoryLine(you, cpu, result) {
    round++;
    const line = document.createElement('div');
    const label = result === 'win' ? 'WIN' : result === 'lose' ? 'LOSE' : 'DRAW';
    line.textContent = `#${round} You: ${you}  vs  CPU: ${cpu}  ‚Üí ${label}`;
    historyBox.appendChild(line);
    historyBox.scrollTop = historyBox.scrollHeight;
  }

  function play(youMove) {
    const cpu = cpuMove();
    const result = judge(youMove, cpu);

    youEmoji.textContent = EMOJI[youMove];
    cpuEmoji.textContent = EMOJI[cpu];

    resultText.className = 'result-text';
    if (result === 'win') {
      youScore++;
      resultText.textContent = 'You win! üéâ';
      resultText.classList.add('win');
    } else if (result === 'lose') {
      cpuScore++;
      resultText.textContent = 'You lose‚Ä¶ üòÖ';
      resultText.classList.add('lose');
    } else {
      drawScore++;
      resultText.textContent = 'Draw ü§ù';
      resultText.classList.add('draw');
    }

    updateScores();
    addHistoryLine(youMove, cpu, result);
  }

  // Use pointerdown so it works well on iPhone & desktop
  buttons.forEach(btn => {
    btn.addEventListener('pointerdown', (e) => {
      e.preventDefault();
      const move = btn.dataset.move;
      play(move);
    });
  });

  resetBtn.addEventListener('pointerdown', (e) => {
    e.preventDefault();
    youScore = 0;
    cpuScore = 0;
    drawScore = 0;
    round = 0;
    updateScores();
    youEmoji.textContent = '‚ùî';
    cpuEmoji.textContent = '‚ùî';
    resultText.textContent = 'Make your move.';
    resultText.className = 'result-text';
    historyBox.textContent = 'Round history will appear here.';
  });
</script>
</body>
</html>
